'use strict';

const Koa = require('koa');
const test = require('ava');

const app = require('../index');
const request = require('supertest')(app);

test('GET /users', async t => {
  t.plan(2);

  const res = await request.get('/users');

  t.is(res.status, 200);
  t.is(res.body.message, 'yo');
});

test('POST /users/me', async t => {
  t.plan(2);

  const res = await request.get('/users/me');

  t.is(res.status, 200);
  t.is(res.body.name, 'spencer');
});

test('POST /users/login', async t => {
  t.plan(2);

  const res = await request.post('/users/login').send({
    email: 'john@1234.com',
    password: 'password'
  });

  t.is(res.status, 200);
  t.is(res.body.name, 'spencer');
});
//# sourceMappingURL=/Users/Spencer/Apps/auth-with-koa/node_modules/.cache/ava/ffe5fbdd8b11aced311a0e5bcd671b8c.js.map